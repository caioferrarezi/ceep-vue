webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(t){a("cbJP")},null,null).exports,c=a("/ocq"),o={name:"Nav",data:function(){return{search:""}},props:{btnNew:Boolean},methods:{addNew:function(){this.$emit("addCard")},sendSearch:function(){this.$emit("search",{key:this.search})}},firestore:function(){return{cards:b.collection("cards")}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-dark bg-primary justify-content-between align-items-center mb-4"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Ceep")]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("form",{staticClass:"form-inline text-white my-2 my-lg-0",on:{input:function(e){return e.preventDefault(),t.sendSearch(e)}}},[a("label",{attrs:{for:"search"}},[t._v("Type your search:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control ml-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-light ml-5",attrs:{disabled:t.btnNew},on:{click:function(e){return e.preventDefault(),t.addNew(e)}}},[t._v("Add new card")])])],1)},staticRenderFns:[]};var l={name:"Card",props:["config","searched","badges"],data:function(){return{editable:!1,resp:null,cat:[]}},methods:{removeCard:function(t){var e=this;t?(this.resp=!1,b.collection("cards").doc(t).delete().then(function(){setTimeout(function(){e.$emit("deleted"),e.editable=!1,e.resp=null},1e3)})):this.$emit("canceled")},saveChanges:function(t){var e=this;this.resp=!1,t?b.collection("cards").doc(t).update({firstTime:!1,title:this.config.title,text:this.config.text,badgesId:this.selectedBadges}).then(function(t){setTimeout(function(){e.$emit("saved"),e.editable=!1,e.resp=null},1e3)}).catch(function(t){console.log(t)}):b.collection("cards").add({firstTime:!1,title:this.config.title,text:this.config.text,badgesId:this.selectedBadges,createdAt:this.config.createdAt}).then(function(t){setTimeout(function(){e.$emit("saved"),e.editable=!1,e.resp=null},1e3)}).catch(function(t){console.log(t)})},editCard:function(){this.editable=!0},cancelEdit:function(){this.editable=!1}},mounted:function(){this.cat=this.config.badgesId},computed:{selectedBadges:function(){var t=this,e=[];return this.badges.forEach(function(a){t.cat.forEach(function(t){a.id==t&&e.push(t)})}),e},cardBadges:function(){var t=this,e=[];return this.badges.forEach(function(a){t.cat.forEach(function(t){a.id==t&&e.push(a)})}),e}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-wrapper",on:{click:function(e){t.cancelEdit(t.config.id)}}},[[a("article",{staticClass:"card bg-light text-left",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"card-body"},[t._l(t.cardBadges,function(e){return a("span",{key:e.id,staticClass:"badge text-light mr-2",class:[e.class]},[t._v("\n              "+t._s(e.label)+"\n        ")])}),t._v(" "),a("h2",{staticClass:"h4 card-title my-2"},[t._v(t._s(t.config.title))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v(t._s(t.config.text))])],2),t._v(" "),a("div",{staticClass:"card-footer text-right"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.editCard()}}},[t._v("Edit card")])])])],t._v(" "),a("transition",{attrs:{name:"fade"}},[1==t.editable||1==t.config.firstTime?[a("div",{staticClass:"card-modal"},[a("div",{staticClass:"card bg-light text-left",on:{click:function(t){t.stopPropagation()}}},[a("form",{on:{submit:function(e){e.preventDefault(),t.saveChanges(t.config.id)},input:function(e){t.isChanged=!0}}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},t._l(t.badges,function(e){return a("div",{key:e.id,staticClass:"d-inline-block custom-radio mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cat,expression:"cat"}],attrs:{id:e.id,type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.cat)?t._i(t.cat,e.id)>-1:t.cat},on:{change:function(a){var n=t.cat,s=a.target,i=!!s.checked;if(Array.isArray(n)){var c=e.id,o=t._i(n,c);s.checked?o<0&&(t.cat=n.concat([c])):o>-1&&(t.cat=n.slice(0,o).concat(n.slice(o+1)))}else t.cat=i}}}),t._v(" "),a("label",{staticClass:"badge text-light",class:e.class,attrs:{for:e.id}},[t._v(t._s(e.label))])])})),t._v(" "),a("div",{staticClass:"form-group h4"},[a("span",{staticClass:"sr-only"},[a("label",{attrs:{for:"title sr-only"}},[t._v("Title")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.config.title,expression:"config.title"}],staticClass:"form-control form-control-custom",attrs:{type:"text",id:"title"},domProps:{value:t.config.title},on:{input:function(e){e.target.composing||t.$set(t.config,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",{staticClass:"sr-only"},[a("label",{attrs:{for:"desc"}},[t._v("Description")])]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.config.text,expression:"config.text"}],staticClass:"form-control form-control-custom",attrs:{id:"desc"},domProps:{value:t.config.text},on:{input:function(e){e.target.composing||t.$set(t.config,"text",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"card-footer d-flex justify-content-between"},[a("div",{staticClass:"col-auto p-0"},[a("button",{staticClass:"btn btn-link text-danger",on:{click:function(e){e.preventDefault(),t.removeCard(t.config.id)}}},[t._v("Delete")])]),t._v(" "),a("div",{staticClass:"col-auto p-0"},[t.config.firstTime?t._e():a("button",{staticClass:"btn btn-link",on:{click:function(e){e.preventDefault(),t.cancelEdit()}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save card")])])]),t._v(" "),!1===t.resp?a("p",{staticClass:"load-content m-0"},[a("span",{staticClass:"spinner"},[a("span",{staticClass:"bounce bounce1"}),t._v(" "),a("span",{staticClass:"bounce bounce2"}),t._v(" "),a("span",{staticClass:"bounce bounce3"})]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])])]:t._e()],2)],2)},staticRenderFns:[]};var u={name:"Painel",data:function(){return{msg:"Welcome do Ceep",cards:[],query:"",fire:!0,badges:[]}},components:{Nav:a("VU/8")(o,r,!1,function(t){a("bvy2")},null,null).exports,Card:a("VU/8")(l,d,!1,function(t){a("RRoY"),a("mn6D")},"data-v-234c1be7",null).exports},methods:{addNew:function(){var t=new Date;this.cards.unshift({firstTime:!0,title:"Novo cartão",text:"Edite o titulo e adicione uma nova descrição",badgesId:[],createdAt:t})},search:function(t){this.query=t.key},updateData:function(){var t=this;this.fire=!0,this.cards=[],b.collection("cards").orderBy("createdAt","desc").get().then(function(e){e.forEach(function(e){var a=e.data();a.id=e.id,t.cards.push(a)}),t.fire=!1}).catch(function(){})},removeLastCard:function(){this.cards.shift()}},mounted:function(){var t=this;C.signInAnonymously().catch(function(t){console.log(t)}),C.onAuthStateChanged(function(e){e&&(t.updateData(),console.log(e))}),b.collection("badges").get().then(function(e){e.forEach(function(e){var a=e.data();a.id=e.id,t.badges.push(a)})})},computed:{searchCards:function(){var t=this;return this.cards.filter(function(e){return-1!==e.title.toLowerCase().indexOf(t.query.trim().toLowerCase())})}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"painel"},[a("Nav",{attrs:{"btn-new":0!==t.query.length},on:{search:t.search,addCard:t.addNew}}),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.fire?[a("p",{staticClass:"load-content mt-5"},[a("span",{staticClass:"spinner"},[a("span",{staticClass:"bounce bounce1"}),t._v(" "),a("span",{staticClass:"bounce bounce2"}),t._v(" "),a("span",{staticClass:"bounce bounce3"})]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Loading...")])])]:t.fire?t._e():[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center mb-4"},[a("h1",{staticClass:"sr-only"},[t._v(t._s(t.msg))])]),t._v(" "),a("div",{staticClass:"row justify-content-start"},t._l(t.searchCards,function(e,n){return a("div",{key:n,staticClass:"col-12 col-md-8 col-lg-4 my-3"},[a("Card",{key:e.id,attrs:{config:e,badges:t.badges},on:{saved:t.updateData,deleted:t.updateData,canceled:t.removeLastCard}})],1)}))])]],2)],1)},staticRenderFns:[]};var v=a("VU/8")(u,f,!1,function(t){a("cd8a")},null,null).exports;n.a.use(c.a);var p=new c.a({routes:[{path:"/",name:"Painel",component:v}]}),m=a("hnaQ"),h=a("yviF"),g=a.n(h);a("dih4"),a("881v");a.d(e,"db",function(){return b}),a.d(e,"auth",function(){return C}),n.a.use(m.a),g.a.initializeApp({apiKey:"AIzaSyBQwmb80k6ztD6usBuExADwaUfPBM668UU",authDomain:"ceep-19f4f.firebaseapp.com",databaseURL:"https://ceep-19f4f.firebaseio.com",projectId:"ceep-19f4f",storageBucket:"ceep-19f4f.appspot.com",messagingSenderId:"43585209664"});var b=g.a.firestore(),C=g.a.auth();n.a.config.productionTip=!1,new n.a({el:"#app",router:p,components:{App:i},template:"<App/>"})},RRoY:function(t,e){},bvy2:function(t,e){},cbJP:function(t,e){},cd8a:function(t,e){},mn6D:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d4b90e8ad349d3af61d0.js.map